<?xml version="1.0" encoding="utf-8" ?>
<odoo noupdate="1">

    <record id="payment_acquirer_ifthenpay_mb" model="payment.acquirer">
        <field name="name">Multibanco (Ifthenpay)</field>
        <field
            name="image_128"
            type="base64"
            file="payment_ifthenpay/static/src/img/ifthenpay_icon.png"
        />
        <field name="provider">ifthenpay</field>
        <field name="pt_pay_method">mb</field>
        <field name="display_as">MB Entity/Reference</field>
        <field
            name="payment_icon_ids"
            eval="[(6, 0, [ref('payment_portugal.payment_icon_mb')])]"
        />
        <field name="company_id" ref="base.main_company" />
        <field name="redirect_form_view_id" ref="ifthenpay_form" />
        <field name="support_authorization">False</field>
        <field name="support_fees_computation">True</field>
        <field name="support_refund" />
        <field name="support_tokenization">False</field>
        <field name="pending_msg">
            <![CDATA[
<h4>Please complete your Multibanco payment:</h4>
<table class="table" style="width: auto; border-collapse: collapse; margin-top: 20px;">
    <tbody>
        <tr>
            <td style="padding-left: 0px; padding-bottom: 5px; border: none;">Entity:</td>
            <td style="padding-bottom: 5px; border: none;">{entity}</td>
        </tr>
        <tr>
            <td style="padding-left: 0px; padding-top: 0px; padding-bottom: 5px; border: none;">
                Reference:
            </td>
            <td style="padding-top: 0px; padding-bottom: 5px; border: none;">{reference}</td>
        </tr>
        <tr>
            <td style="padding-left: 0px; padding-top: 0px; border: none;">Amount:</td>
            <td style="padding-top: 0px; border: none;">{amount}</td>
        </tr>
    </tbody>
</table>]]>
        </field>
    </record>

    <record id="payment_acquirer_ifthenpay_mbway" model="payment.acquirer">
        <field name="name">MB Way (Ifthenpay)</field>
        <field
            name="image_128"
            type="base64"
            file="payment_ifthenpay/static/src/img/ifthenpay_icon.png"
        />
        <field name="provider">ifthenpay</field>
        <field name="pt_pay_method">mbway</field>
        <field name="display_as">MB WAY</field>
        <field
            name="payment_icon_ids"
            eval="[(6, 0, [ref('payment_portugal.payment_icon_mbway')])]"
        />
        <field name="company_id" ref="base.main_company" />
        <field name="redirect_form_view_id" ref="ifthenpay_form" />
        <field name="pending_msg">
            <![CDATA[
<h4>Please complete your MB WAY payment:</h4>
<p>A payment request has been sent to your MB WAY app. You have until {time_limit} to complete your payment.</p>
<p></p>
<p>If the deadline has passed, you can restart the payment process on the customer portal. Select the pending document, click on the payment button and choose a new payment method.</p>
]]>
        </field>
    </record>

    <record id="payment_method_ifthenpay" model="account.payment.method">
        <field name="name">Ifthenpay</field>
        <field name="code">ifthenpay</field>
        <field name="payment_type">inbound</field>
    </record>

</odoo>
